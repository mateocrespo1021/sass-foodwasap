<form [formGroup]="formProducts" action="" class="form w-full" (ngSubmit)="editProduct()">
    <div class="field w-full">
        <label for="name">Nombre</label>
        <input formControlName="name" pInputText id="name" autocomplete="off" class="w-full" />
    </div>
    <div class="field">
        <label for="description">Descripci√≥n</label>
        <textarea formControlName="description" id="description" rows="5" cols="30" pInputTextarea
            class="w-full mb-3"></textarea>
    </div>
    <div class="field w-full">
        <label for="price">Precio</label>
        <p-inputNumber inputId="price" mode="decimal" formControlName="price" [minFractionDigits]="2"
            [maxFractionDigits]="5" class="block w-full" />
    </div>
    <div class="field">
        <label for="discount">Precio Anterior</label>
        <p-inputNumber inputId="discount" mode="decimal" formControlName="discount" [minFractionDigits]="2"
            [maxFractionDigits]="5" class="w-full" />
    </div>
    <!-- <div class="field">
        <label for="iva">IVA (%)</label>
        <p-inputNumber inputId="iva" mode="decimal" formControlName="iva" [minFractionDigits]="2"
            [maxFractionDigits]="5" />
    </div> -->
    <div class="field">
        <label for="category">Categoria</label>
        <p-dropdown [options]="categories" optionLabel="name" [filter]="true" filterBy="name" [showClear]="true"
            placeholder="Seleccionar Categoria" formControlName="category">
            <ng-template pTemplate="selectedItem" let-selectedOption>
                <div class="flex align-items-center gap-2">
                    <div>{{ selectedOption.name }}</div>
                </div>
            </ng-template>
            <ng-template let-category pTemplate="item">
                <div class="flex align-items-center gap-2">
                    <div>{{ category.name }}</div>
                </div>
            </ng-template>
        </p-dropdown>
    </div>
    <div class="field">
        <label for="status">Estado</label>
        <p-inputSwitch formControlName="status" />
    </div>
    <div class="field">
        <label for="image">Imagen</label>
        <app-file (fileUploaded)="handleFileUploaded($event)"></app-file>
        <img *ngIf="product && newImage == ''" [src]="baseProducts + product.image + '.webp'" [alt]="product.name"
            class="shadow-4" />
        <img *ngIf="newImage != ''" [src]="newImage" alt="">
    </div>
    <div class="card flex gap-2">
        <p-button label="Guardar" type="submit" />
        <p-button routerLink="/admin/catalog" label="Regresar" severity="help" />
    </div>
</form>